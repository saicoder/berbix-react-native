!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("react-native"),require("prop-types"),require("expo"),require("react-native-webview"));else if("function"==typeof define&&define.amd)define(["react","react-native","prop-types","expo","react-native-webview"],t);else{var r="object"==typeof exports?t(require("react"),require("react-native"),require("prop-types"),require("expo"),require("react-native-webview")):t(e.react,e["react-native"],e["prop-types"],e.expo,e["react-native-webview"]);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,function(e,t,r,n,o){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(1),i=r(4),c=r(2),s=r.n(c),u=r(3);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p,y=function(e){var t=.9*a.Dimensions.get("window").width;return{width:t,height:t*function(e){switch(e){case"passport":return.8;case"barcode":return.4;default:return.63}}(e)}},b=function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({borderColor:"#fff",width:25,height:25},e.top?{borderTopWidth:2,alignSelf:"flex-start"}:{borderBottomWidth:2,alignSelf:"flex-end"},{},e.left?{borderLeftWidth:2}:{borderRightWidth:2})},d=function(e){var t=a.Dimensions.get("window"),r=t.width,n=t.height,o=y(e),i=o.width,c=o.height,s=(n-c)/2,u=(r-i)/2;return a.StyleSheet.create({outerOverlay:{alignSelf:"center",borderColor:"rgba(0, 0, 0, 0.5)",borderStyle:"solid",borderLeftWidth:u,borderRightWidth:u,borderTopWidth:s,borderBottomWidth:s,width:i+2*u,height:c+2*s,position:"absolute",left:0,top:0},innerOverlay:{width:i,height:c,position:"absolute",left:(r-i)/2,top:(n-c)/2,flexDirection:"column"}})},h=a.StyleSheet.create({overlayContainer:{flex:1},overlayTargetRow:{flex:1,flexDirection:"row",justifyContent:"space-between"}}),m=function(e){var t=e.idType,r=d(t);return o.a.createElement(a.View,{style:h.overlayContainer},o.a.createElement(a.View,{style:r.outerOverlay}),o.a.createElement(a.View,{style:r.innerOverlay},o.a.createElement(a.View,{style:h.overlayTargetRow},o.a.createElement(a.View,{style:b({top:!0,left:!0})}),o.a.createElement(a.View,{style:b({top:!0,left:!1})})),o.a.createElement(a.View,{style:h.overlayTargetRow},o.a.createElement(a.View,{style:b({top:!1,left:!0})}),o.a.createElement(a.View,{style:b({top:!1,left:!1})}))))};function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function E(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){w(a,n,o,i,c,"next",e)}function c(e){w(a,n,o,i,c,"throw",e)}i(void 0)})}}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=x(t).call(this,e),r=!a||"object"!==g(a)&&"function"!=typeof a?S(n):a,C(S(r),"cameraRef",o.a.createRef()),C(S(r),"takePicture",E(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.cameraRef.current||r.state.loading){e.next=7;break}return t={quality:.8,base64:!0,exif:!0,doNotSave:!0,width:1600},r.setState({loading:!0}),e.next=5,r.cameraRef.current.takePictureAsync(t);case 5:n=e.sent,r.props.onPhotoCapture(n.base64,n.exif);case 7:case"end":return e.stop()}},e)}))),C(S(r),"statusChange",function(e){"NOT_AUTHORIZED"===e.cameraStatus?r.props.onError({message:"Camera must be authorized to capture photos."}):"READY"===e.cameraStatus&&r.setState({ready:!0})}),r.state={ready:!1,loading:!1},r}var r,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,n["PureComponent"]),r=t,(i=[{key:"cameraSide",value:function(){switch(this.props.step){case"FRONT":case"PASSPORT":case"BACK":return u.Camera.Constants.Type.back;case"SELFIE":case"LIVENESS":return u.Camera.Constants.Type.front}}},{key:"renderOverlay",value:function(){var e=this.props,t=e.idType,r=e.step;return"FRONT"===r||"BACK"===r||"PASSPORT"===r?o.a.createElement(m,{idType:t||"card"}):null}},{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(r,!0).forEach(function(t){C(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},R.cameraContainer,{},this.state.loading?R.cameraContainerLoading:{}),r=this.cameraSide(),n=r===u.Camera.Constants.Type.back?{x:.5,y:.5}:{};return o.a.createElement(a.View,{style:t},o.a.createElement(u.Camera,v({ref:this.cameraRef,style:R.preview,type:r,flashMode:u.Camera.Constants.FlashMode.off,androidCameraPermissionOptions:{title:"Permission to use camera",message:"We need your permission to use your camera",buttonPositive:"OK",buttonNegative:"Cancel"},androidRecordAudioPermissionOptions:{title:"Permission to use audio recording",message:"We need your permission to use your audio",buttonPositive:"OK",buttonNegative:"Cancel"},captureAudio:!1,onCameraReady:function(){return e.statusChange({cameraStatus:"READY"})},onMountError:function(){return e.statusChange({cameraStatus:"NOT_AUTHORIZED"})}},n)),this.state.ready&&!this.state.loading&&o.a.createElement(o.a.Fragment,null,this.renderOverlay(),o.a.createElement(a.View,{style:R.cameraButton},o.a.createElement(a.TouchableOpacity,{onPress:this.takePicture,style:R.capture,disabled:this.state.loading},o.a.createElement(a.Text,{style:{fontSize:14}},"Take photo")))))}}])&&P(r.prototype,i),c&&P(r,c),t}(),R=a.StyleSheet.create({cameraContainer:{flex:1,justifyContent:"flex-end",position:"absolute",left:0,top:0,right:0,bottom:0,width:"100%",height:"100%",zIndex:100},cameraContainerLoading:{left:-1e4,top:-1e4},cameraButton:{flex:0,flexDirection:"row",justifyContent:"center",position:"absolute",bottom:30,width:"100%"},preview:{flex:1,position:"absolute",left:0,top:0,width:"100%",height:"100%"},capture:(p={flex:0,alignSelf:"flex-end",backgroundColor:"#fff",borderRadius:5,padding:15,paddingHorizontal:20},C(p,"alignSelf","center"),C(p,"marginBottom",30),p)});function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(r,!0).forEach(function(t){N(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var F=function(e){function t(){var e,r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=this,o=(e=V(t)).call.apply(e,[this].concat(i)),r=!o||"object"!==k(o)&&"function"!=typeof o?I(n):o,N(I(r),"state",{flashlightOn:!1}),N(I(r),"capture",function(e){r.props.onCapture(e.data)}),r}var r,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,n["PureComponent"]),r=t,(i=[{key:"exit",value:function(){this.props.onExit()}},{key:"toggleLight",value:function(){this.setState({flashlightOn:!this.state.flashlightOn})}},{key:"fallback",value:function(){this.props.onFallback()}},{key:"render",value:function(){var e=this,t=y("barcode"),r=this.state.flashlightOn?u.Camera.Constants.FlashMode.torch:u.Camera.Constants.FlashMode.off;return o.a.createElement(a.SafeAreaView,{style:L.safeArea},o.a.createElement(a.View,{style:L.container},o.a.createElement(u.Camera,A({ref:this.cameraRef,style:L.preview,type:u.Camera.Constants.Type.back,flashMode:r,androidCameraPermissionOptions:{title:"Permission to use camera",message:"We need your permission to use your camera",buttonPositive:"OK",buttonNegative:"Cancel"},androidRecordAudioPermissionOptions:{title:"Permission to use audio recording",message:"We need your permission to use your audio",buttonPositive:"OK",buttonNegative:"Cancel"},captureAudio:!1,onBarCodeRead:this.capture,barCodeTypes:[u.Camera.Constants.BarCodeType.pdf417]},{pointOfInterest:{x:.5,y:.5}})),o.a.createElement(a.View,{style:L.background},o.a.createElement(m,{idType:"barcode"})),o.a.createElement(a.View,{style:L.foreground},o.a.createElement(a.View,{style:L.sections},o.a.createElement(a.View,{style:L.header},o.a.createElement(a.TouchableOpacity,{style:L.exitButton,onPress:function(){return e.exit()}},o.a.createElement(a.Text,{style:L.headerText},"Exit")),o.a.createElement(a.TouchableOpacity,{style:L.flashlightButton,onPress:function(){return e.toggleLight()}},o.a.createElement(a.Text,{style:L.headerText},"Toggle light"))),o.a.createElement(a.View,{style:D({},L.middleSection,{height:t.height+160})},o.a.createElement(a.View,{style:L.instruction},o.a.createElement(a.Text,{style:L.instructionText},"Scan the barcode on the back of your ID")),o.a.createElement(a.TouchableOpacity,{style:L.fallbackButton,onPress:function(){return e.fallback()}},o.a.createElement(a.Text,{style:L.fallbackButtonText},"Don't have this barcode on your ID?"))),o.a.createElement(a.View,{style:L.footer},o.a.createElement(a.View,{style:L.poweredBy},o.a.createElement(a.Text,{style:L.footerText},"Powered by Berbix")),o.a.createElement(a.TouchableOpacity,{style:L.termsLink,onPress:function(){return a.Linking.openURL("https://terms.berbix.com/terms/service?from=rn"+X)}},o.a.createElement(a.Text,{style:L.footerText},"Terms & Privacy")))))))}}])&&M(r.prototype,i),c&&M(r,c),t}(),L=a.StyleSheet.create({safeArea:{flex:1},container:{flex:1},preview:{position:"absolute",left:0,top:0,height:"100%",width:"100%"},foreground:{flex:1,position:"absolute",left:0,top:0,height:"100%",width:"100%"},background:{position:"absolute",left:0,top:0,height:"100%",width:"100%"},sections:{flexDirection:"column",justifyContent:"space-between",height:"100%"},header:{flexDirection:"row",justifyContent:"space-between"},headerText:{color:"white"},footer:{flexDirection:"row",justifyContent:"space-between"},middleSection:{flexDirection:"column",justifyContent:"space-between"},instruction:{flexDirection:"row",justifyContent:"center"},instructionText:{color:"white",fontWeight:"bold"},fallbackButton:{flexDirection:"row",justifyContent:"center",padding:10},fallbackButtonText:{color:"#4885C5"},exitButton:{padding:10},flashlightButton:{padding:10},poweredBy:{padding:10},termsLink:{padding:10},footerText:{color:"white"}});function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(r,!0).forEach(function(t){Q(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function H(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function J(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X="0.1.4",$={id:1,barcode:2},ee=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=Y(t).call(this,e),r=!a||"object"!==U(a)&&"function"!=typeof a?Z(n):a,Q(Z(r),"webviewRef",o.a.createRef()),Q(Z(r),"capturePhoto",function(){var e,t=(e=regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.postMessage({type:"NATIVE_PHOTO_RESULT",payload:{base64:t,format:"jpg",exif:r.objectifyExif(n),overlay:!0}}),r.setState({capturing:null,showModal:!1});case 2:case"end":return e.stop()}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){J(a,n,o,i,c,"next",e)}function c(e){J(a,n,o,i,c,"throw",e)}i(void 0)})});return function(e,r){return t.apply(this,arguments)}}()),Q(Z(r),"cameraError",function(e){r.postMessage({type:"NATIVE_PHOTO_ERROR",payload:e}),r.setState({capturing:null,showModal:!1})}),Q(Z(r),"barcodeCapture",function(e){r.postMessage({type:"NATIVE_BARCODE_RESULT",payload:{payload:e}}),r.setState({capturing:null,showModal:!1})}),Q(Z(r),"barcodeFallback",function(){r.postMessage({type:"NATIVE_BARCODE_FALLBACK"}),r.setState({capturing:null,showModal:!1})}),Q(Z(r),"barcodeExit",function(){r.setState({capturing:null,showModal:!1})}),Q(Z(r),"handleMessage",function(e){var t=r.props,n=t.onComplete,o=t.onError,a=t.onDisplay,i=t.onStateChange;try{var c=JSON.parse(e.nativeEvent.data);if(console.log(c),"VERIFICATION_COMPLETE"===c.type){try{c.payload.success?n({value:c.payload.code}):o(c)}catch(e){}r.setState({show:!1})}else if("DISPLAY_IFRAME"===c.type)a(),r.setState({height:c.payload.height});else if("RESIZE_IFRAME"===c.type)r.setState({height:c.payload.height});else if("RELOAD_IFRAME"===c.type)r.setState({idx:r.state.idx+1});else if("STATE_CHANGE"===c.type)i(c.payload);else if("ERROR_RENDERED"===c.type)o(c.payload);else if("TAKE_NATIVE_PHOTO"===c.type){var s=c.payload,u=s.idType,l=s.step,f=s.backFormat;r.setState({idType:u,step:l,backFormat:f,capturing:$.id,showModal:!0})}else if("TAKE_NATIVE_BARCODE"===c.type){var p=c.payload.timeout;r.setState({timeout:p,capturing:$.barcode,showModal:!0})}}catch(t){console.warn("Error parsing native message",e.nativeEvent.data,t)}}),r.state={capturing:null,showModal:!1,idType:"",step:"",backFormat:"",idx:0,height:0,timeout:null},r}var r,c,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,n["Component"]),r=t,(c=[{key:"postMessage",value:function(e){var t=JSON.stringify(e),r="window.ReceiveRNImage(".concat(t,"); true;");this.webviewRef.current.injectJavaScript(r)}},{key:"objectifyExif",value:function(e){var t=JSON.parse(JSON.stringify(e));return t["react-native-video"]=!0,t}},{key:"baseUrl",value:function(){var e=this.props,t=e.baseUrl,r=e.environment;if(null!=t)return t;switch(r){case"sandbox":return"https://verify.sandbox.berbix.com";case"staging":return"https://verify.staging.berbix.com";default:return"https://verify.berbix.com"}}},{key:"frameUrl",value:function(){var e=this.props,t=e.overrideUrl,r=e.version,n=e.clientId,o=e.role,a=e.templateKey,i=e.email,c=e.phone,s=e.continuation,u=e.clientToken;if(null!=t)return t;var l=u||s,f=a||o;return this.baseUrl()+"/"+r+"/verify?client_id="+n+(f?"&template="+f:"")+"&mode=rn"+(i?"&email="+encodeURIComponent(i):"")+(c?"&phone="+encodeURIComponent(c):"")+(l?"&client_token="+l:"")+"&sdk=BerbixReactNative-"+X}},{key:"render",value:function(){var e=this,t=this.props,r=t.style,n=H(t,["style"]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(a.View,W({},n,{style:K({},te.frameContainer,{},r||{})}),o.a.createElement(i.WebView,{key:this.state.idx,ref:this.webviewRef,style:{height:this.state.height},source:{uri:this.frameUrl()},useWebKit:!0,javaScriptEnabled:!0,domStorageEnabled:!0,saveFormDataDisabled:!0,allowFileAccess:!0,onMessage:this.handleMessage})),o.a.createElement(a.Modal,{animationType:"slide",transparent:!0,visible:this.state.showModal,onDismiss:function(){e.setState({capturing:null,showModal:!1})},onRequestClose:function(){e.setState({capturing:null,showModal:!1})}},this.state.capturing===$.id&&o.a.createElement(T,{idType:this.state.idType,step:this.state.step,backFormat:this.state.backFormat,onPhotoCapture:this.capturePhoto,onError:this.cameraError}),this.state.capturing===$.barcode&&o.a.createElement(F,{timeout:this.state.timeout,onCapture:this.barcodeCapture,onFallback:this.barcodeFallback,onExit:this.barcodeExit})))}}])&&z(r.prototype,c),s&&z(r,s),t}(),te=a.StyleSheet.create({frameContainer:{flex:1}});ee.propTypes={clientId:s.a.string.isRequired,clientToken:s.a.string,templateKey:s.a.string,email:s.a.string,phone:s.a.string,onComplete:s.a.func.isRequired,onError:s.a.func,onDisplay:s.a.func,onStateChange:s.a.func,baseUrl:s.a.string,overrideUrl:s.a.string,environment:s.a.oneOf(["sandbox","staging","production"]),version:s.a.string,continuation:s.a.string,role:s.a.string},ee.defaultProps={onError:function(){},onDisplay:function(){},onStateChange:function(){},version:"v0",style:{}};t.default=ee}])});
//# sourceMappingURL=index.js.map