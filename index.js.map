{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"react-native\"","webpack:///external \"prop-types\"","webpack:///external \"expo\"","webpack:///external \"react-native-webview\"","webpack:///./src/Overlay.jsx","webpack:///./src/IDCamera.jsx","webpack:///./src/BarcodeCamera.jsx","webpack:///./src/BerbixVerify.jsx","webpack:///./src/index.jsx"],"names":["root","factory","exports","module","require","define","amd","a","i","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","overlayDimensions","idType","width","Dimensions","height","overlayRatio","targetStyle","borderColor","top","borderTopWidth","alignSelf","borderBottomWidth","left","borderLeftWidth","borderRightWidth","overlayStyles","screenWidth","screenHeight","borderWidthY","borderWidthX","StyleSheet","outerOverlay","borderStyle","position","innerOverlay","flexDirection","styles","overlayContainer","flex","overlayTargetRow","justifyContent","Overlay","stylesheet","style","IDCamera","props","React","createRef","cameraRef","current","state","loading","options","quality","base64","exif","doNotSave","setState","takePictureAsync","data","onPhotoCapture","e","cameraStatus","onError","message","ready","PureComponent","this","step","RNCamera","Constants","Type","back","front","containerStyles","cameraContainer","cameraContainerLoading","side","cameraSide","pointOfInterest","x","y","ref","preview","type","flashMode","FlashMode","off","androidCameraPermissionOptions","title","buttonPositive","buttonNegative","androidRecordAudioPermissionOptions","captureAudio","onCameraReady","statusChange","onMountError","renderOverlay","cameraButton","onPress","takePicture","capture","disabled","fontSize","right","bottom","zIndex","backgroundColor","borderRadius","padding","paddingHorizontal","Camera","flashlightOn","captured","onCapture","onExit","onFallback","overlay","torch","safeArea","container","onBarCodeRead","barCodeTypes","BarCodeType","pdf417","background","foreground","sections","header","exitButton","exit","headerText","flashlightButton","toggleLight","middleSection","instruction","instructionText","fallbackButton","fallback","fallbackButtonText","footer","poweredBy","footerText","termsLink","Linking","openURL","SDK_VERSION","color","fontWeight","captureMode","id","barcode","BerbixVerify","postMessage","payload","format","objectifyExif","capturing","showModal","event","onComplete","onDisplay","onStateChange","JSON","parse","nativeEvent","console","log","success","code","show","idx","backFormat","timeout","err","warn","Component","stringify","toRun","webviewRef","injectJavaScript","result","baseUrl","environment","overrideUrl","version","clientId","role","templateKey","email","phone","continuation","clientToken","token","template","encodeURIComponent","frameContainer","source","uri","frameUrl","useWebKit","javaScriptEnabled","domStorageEnabled","saveFormDataDisabled","allowFileAccess","onMessage","handleMessage","animationType","transparent","visible","onDismiss","onRequestClose","capturePhoto","cameraError","barcodeCapture","barcodeFallback","barcodeExit","propTypes","PropTypes","string","isRequired","func","oneOf","defaultProps"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-native\"), require(\"prop-types\"), require(\"expo\"), require(\"react-native-webview\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-native\", \"prop-types\", \"expo\", \"react-native-webview\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\"), require(\"react-native\"), require(\"prop-types\"), require(\"expo\"), require(\"react-native-webview\")) : factory(root[\"react\"], root[\"react-native\"], root[\"prop-types\"], root[\"expo\"], root[\"react-native-webview\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__4__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","import React from \"react\";\nimport { View, StyleSheet, Dimensions } from \"react-native\";\n\nconst overlayRatio = idType => {\n  switch (idType) {\n    case \"passport\":\n      return 0.8;\n    case \"barcode\":\n      return 0.4;\n    default:\n      return 0.63;\n  }\n};\n\nexport const overlayDimensions = idType => {\n  const { width: screenWidth } = Dimensions.get(\"window\");\n  const ratio = overlayRatio(idType);\n  const width = screenWidth * 0.9;\n  return { width, height: width * ratio };\n};\n\nconst targetStyle = ({ top, left }) => {\n  return {\n    borderColor: \"#fff\",\n    width: 25,\n    height: 25,\n    ...(top\n      ? { borderTopWidth: 2, alignSelf: \"flex-start\" }\n      : { borderBottomWidth: 2, alignSelf: \"flex-end\" }),\n    ...(left ? { borderLeftWidth: 2 } : { borderRightWidth: 2 })\n  };\n};\n\nconst Overlay = ({ idType }) => {\n  const stylesheet = overlayStyles(idType);\n  return (\n    <View style={styles.overlayContainer}>\n      <View style={stylesheet.outerOverlay} />\n      <View style={stylesheet.innerOverlay}>\n        <View style={styles.overlayTargetRow}>\n          <View style={targetStyle({ top: true, left: true })} />\n          <View style={targetStyle({ top: true, left: false })} />\n        </View>\n        <View style={styles.overlayTargetRow}>\n          <View style={targetStyle({ top: false, left: true })} />\n          <View style={targetStyle({ top: false, left: false })} />\n        </View>\n      </View>\n    </View>\n  );\n};\n\nconst overlayStyles = idType => {\n  const { width: screenWidth, height: screenHeight } = Dimensions.get(\"window\");\n  const { width, height } = overlayDimensions(idType);\n  const borderWidthY = (screenHeight - height) / 2;\n  const borderWidthX = (screenWidth - width) / 2;\n  return StyleSheet.create({\n    outerOverlay: {\n      alignSelf: \"center\",\n      borderColor: \"rgba(0, 0, 0, 0.5)\",\n      borderStyle: \"solid\",\n      borderLeftWidth: borderWidthX,\n      borderRightWidth: borderWidthX,\n      borderTopWidth: borderWidthY,\n      borderBottomWidth: borderWidthY,\n      width: width + borderWidthX * 2,\n      height: height + borderWidthY * 2,\n      position: \"absolute\",\n      left: 0,\n      top: 0\n    },\n    innerOverlay: {\n      width,\n      height,\n      position: \"absolute\",\n      left: (screenWidth - width) / 2,\n      top: (screenHeight - height) / 2,\n      flexDirection: \"column\"\n    }\n  });\n};\n\nconst styles = StyleSheet.create({\n  overlayContainer: { flex: 1 },\n  overlayTargetRow: {\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  }\n});\n\nexport default Overlay;\n","import React, { PureComponent } from \"react\";\nimport { View, Text, TouchableOpacity, StyleSheet } from \"react-native\";\nimport { Camera as RNCamera } from \"expo\"\nimport Overlay from \"./Overlay\";\n\nexport default class IDCamera extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      ready: false,\n      loading: false\n    };\n  }\n\n  cameraRef = React.createRef();\n\n  cameraSide() {\n    switch (this.props.step) {\n      case \"FRONT\":\n      case \"PASSPORT\":\n      case \"BACK\":\n        return RNCamera.Constants.Type.back;\n      case \"SELFIE\":\n      case \"LIVENESS\":\n        return RNCamera.Constants.Type.front;\n    }\n  }\n\n  takePicture = async () => {\n    if (this.cameraRef.current && !this.state.loading) {\n      const options = {\n        quality: 0.8,\n        base64: true,\n        exif: true,\n        doNotSave: true,\n        width: 1600\n      };\n      this.setState({ loading: true });\n      const data = await this.cameraRef.current.takePictureAsync(options);\n      this.props.onPhotoCapture(data.base64, data.exif);\n    }\n  };\n\n  statusChange = e => {\n    if (e.cameraStatus === \"NOT_AUTHORIZED\") {\n      this.props.onError({\n        message: \"Camera must be authorized to capture photos.\"\n      });\n    } else if (e.cameraStatus === \"READY\") {\n      this.setState({ ready: true });\n    }\n  };\n\n  renderOverlay() {\n    const { idType, step } = this.props;\n    if (step === \"FRONT\" || step === \"BACK\" || step === \"PASSPORT\") {\n      return <Overlay idType={idType || \"card\"} />;\n    }\n    return null;\n  }\n\n  render() {\n    const containerStyles = {\n      ...styles.cameraContainer,\n      ...(this.state.loading ? styles.cameraContainerLoading : {})\n    };\n\n    const side = this.cameraSide();\n\n    const pointOfInterest =\n      side === RNCamera.Constants.Type.back ? { x: 0.5, y: 0.5 } : {};\n\n    return (\n      <View style={containerStyles}>\n        <RNCamera\n          ref={this.cameraRef}\n          style={styles.preview}\n          type={side}\n          flashMode={RNCamera.Constants.FlashMode.off}\n          androidCameraPermissionOptions={{\n            title: \"Permission to use camera\",\n            message: \"We need your permission to use your camera\",\n            buttonPositive: \"OK\",\n            buttonNegative: \"Cancel\"\n          }}\n          androidRecordAudioPermissionOptions={{\n            title: \"Permission to use audio recording\",\n            message: \"We need your permission to use your audio\",\n            buttonPositive: \"OK\",\n            buttonNegative: \"Cancel\"\n          }}\n          captureAudio={false}\n          onCameraReady={() => this.statusChange({ cameraStatus: 'READY' })}\n          onMountError={() => this.statusChange({ cameraStatus: 'NOT_AUTHORIZED' })}\n          {...pointOfInterest}\n        />\n        {this.state.ready && !this.state.loading && (\n          <>\n            {this.renderOverlay()}\n            <View style={styles.cameraButton}>\n              <TouchableOpacity\n                onPress={this.takePicture}\n                style={styles.capture}\n                disabled={this.state.loading}\n              >\n                <Text style={{ fontSize: 14 }}>Take photo</Text>\n              </TouchableOpacity>\n            </View>\n          </>\n        )}\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  cameraContainer: {\n    flex: 1,\n    justifyContent: \"flex-end\",\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: \"100%\",\n    height: \"100%\",\n    zIndex: 100\n  },\n  cameraContainerLoading: {\n    left: -10000,\n    top: -10000\n  },\n  cameraButton: {\n    flex: 0,\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    position: \"absolute\",\n    bottom: 30,\n    width: \"100%\"\n  },\n  preview: {\n    flex: 1,\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    width: \"100%\",\n    height: \"100%\"\n  },\n  capture: {\n    flex: 0,\n    alignSelf: \"flex-end\",\n    backgroundColor: \"#fff\",\n    borderRadius: 5,\n    padding: 15,\n    paddingHorizontal: 20,\n    alignSelf: \"center\",\n    marginBottom: 30\n  }\n});\n","import React, { PureComponent } from \"react\";\nimport { overlayDimensions } from \"./Overlay\";\nimport {\n  View,\n  Text,\n  StyleSheet,\n  SafeAreaView,\n  TouchableOpacity,\n  Linking\n} from \"react-native\";\nimport Overlay from \"./Overlay\";\nimport { Camera as RNCamera } from \"expo\"\nimport { SDK_VERSION } from \"./BerbixVerify\";\n\nexport default class Camera extends PureComponent {\n  state = {\n    flashlightOn: false\n  };\n\n  exit() {\n    this.props.onExit();\n  }\n\n  toggleLight() {\n    this.setState({\n      flashlightOn: !this.state.flashlightOn\n    });\n  }\n\n  fallback() {\n    this.props.onFallback();\n  }\n\n  capture = captured => {\n    this.props.onCapture(captured.data);\n  };\n\n  render() {\n    const overlay = overlayDimensions(\"barcode\");\n    const pointOfInterest = { pointOfInterest: { x: 0.5, y: 0.5 } };\n    const flashMode = this.state.flashlightOn\n      ? RNCamera.Constants.FlashMode.torch\n      : RNCamera.Constants.FlashMode.off;\n    return (\n      <SafeAreaView style={styles.safeArea}>\n        <View style={styles.container}>\n          <RNCamera\n            ref={this.cameraRef}\n            style={styles.preview}\n            type={RNCamera.Constants.Type.back}\n            flashMode={flashMode}\n            androidCameraPermissionOptions={{\n              title: \"Permission to use camera\",\n              message: \"We need your permission to use your camera\",\n              buttonPositive: \"OK\",\n              buttonNegative: \"Cancel\"\n            }}\n            androidRecordAudioPermissionOptions={{\n              title: \"Permission to use audio recording\",\n              message: \"We need your permission to use your audio\",\n              buttonPositive: \"OK\",\n              buttonNegative: \"Cancel\"\n            }}\n            captureAudio={false}\n            onBarCodeRead={this.capture}\n            barCodeTypes={[RNCamera.Constants.BarCodeType.pdf417]}\n            {...pointOfInterest}\n          />\n          <View style={styles.background}>\n            <Overlay idType=\"barcode\" />\n          </View>\n          <View style={styles.foreground}>\n            <View style={styles.sections}>\n              <View style={styles.header}>\n                <TouchableOpacity\n                  style={styles.exitButton}\n                  onPress={() => this.exit()}\n                >\n                  <Text style={styles.headerText}>Exit</Text>\n                </TouchableOpacity>\n                <TouchableOpacity\n                  style={styles.flashlightButton}\n                  onPress={() => this.toggleLight()}\n                >\n                  <Text style={styles.headerText}>Toggle light</Text>\n                </TouchableOpacity>\n              </View>\n              <View\n                style={{\n                  ...styles.middleSection,\n                  height: overlay.height + 160\n                }}\n              >\n                <View style={styles.instruction}>\n                  <Text style={styles.instructionText}>\n                    Scan the barcode on the back of your ID\n                  </Text>\n                </View>\n                <TouchableOpacity\n                  style={styles.fallbackButton}\n                  onPress={() => this.fallback()}\n                >\n                  <Text style={styles.fallbackButtonText}>\n                    Don't have this barcode on your ID?\n                  </Text>\n                </TouchableOpacity>\n              </View>\n              <View style={styles.footer}>\n                <View style={styles.poweredBy}>\n                  <Text style={styles.footerText}>Powered by Berbix</Text>\n                </View>\n                <TouchableOpacity\n                  style={styles.termsLink}\n                  onPress={() =>\n                    Linking.openURL(\n                      \"https://terms.berbix.com/terms/service?from=rn\" +\n                        SDK_VERSION\n                    )\n                  }\n                >\n                  <Text style={styles.footerText}>Terms &amp; Privacy</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          </View>\n        </View>\n      </SafeAreaView>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  safeArea: {\n    flex: 1\n  },\n  container: {\n    flex: 1\n  },\n  preview: {\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    height: \"100%\",\n    width: \"100%\"\n  },\n  foreground: {\n    flex: 1,\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    height: \"100%\",\n    width: \"100%\"\n  },\n  background: {\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    height: \"100%\",\n    width: \"100%\"\n  },\n  sections: {\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    height: \"100%\"\n  },\n  header: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  },\n  headerText: {\n    color: \"white\"\n  },\n  footer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  },\n  middleSection: {\n    flexDirection: \"column\",\n    justifyContent: \"space-between\"\n  },\n  instruction: {\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  },\n  instructionText: {\n    color: \"white\",\n    fontWeight: \"bold\"\n  },\n  fallbackButton: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    padding: 10\n  },\n  fallbackButtonText: {\n    color: \"#4885C5\"\n  },\n  exitButton: {\n    padding: 10\n  },\n  flashlightButton: {\n    padding: 10\n  },\n  poweredBy: {\n    padding: 10\n  },\n  termsLink: {\n    padding: 10\n  },\n  footerText: {\n    color: \"white\"\n  }\n});\n","import React, { Component } from \"react\";\nimport { View, StyleSheet, Modal } from \"react-native\";\nimport { WebView } from \"react-native-webview\";\nimport PropTypes from \"prop-types\";\nimport IDCamera from \"./IDCamera\";\nimport BarcodeCamera from \"./BarcodeCamera\";\n\nexport const SDK_VERSION = \"0.1.4\";\n\nconst captureMode = {\n  id: 1,\n  barcode: 2\n};\n\nexport default class BerbixVerify extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      capturing: null,\n      showModal: false,\n      idType: \"\",\n      step: \"\",\n      backFormat: \"\",\n      idx: 0,\n      height: 0,\n      timeout: null\n    };\n  }\n\n  webviewRef = React.createRef();\n\n  postMessage(message) {\n    const data = JSON.stringify(message);\n    const toRun = `window.ReceiveRNImage(${data}); true;`;\n    this.webviewRef.current.injectJavaScript(toRun);\n  }\n\n  objectifyExif(exif) {\n    const result = JSON.parse(JSON.stringify(exif));\n    result[\"react-native-video\"] = true;\n    return result;\n  }\n\n  capturePhoto = async (base64, exif) => {\n    this.postMessage({\n      type: \"NATIVE_PHOTO_RESULT\",\n      payload: {\n        base64: base64,\n        format: \"jpg\",\n        exif: this.objectifyExif(exif),\n        overlay: true\n      }\n    });\n    this.setState({ capturing: null, showModal: false });\n  };\n\n  cameraError = message => {\n    this.postMessage({\n      type: \"NATIVE_PHOTO_ERROR\",\n      payload: message\n    });\n    this.setState({ capturing: null, showModal: false });\n  };\n\n  barcodeCapture = payload => {\n    this.postMessage({\n      type: \"NATIVE_BARCODE_RESULT\",\n      payload: {\n        payload\n      }\n    });\n    this.setState({ capturing: null, showModal: false });\n  };\n\n  barcodeFallback = () => {\n    this.postMessage({\n      type: \"NATIVE_BARCODE_FALLBACK\"\n    });\n    this.setState({ capturing: null, showModal: false });\n  };\n\n  barcodeExit = () => {\n    this.setState({ capturing: null, showModal: false });\n  };\n\n  handleMessage = event => {\n    const { onComplete, onError, onDisplay, onStateChange } = this.props;\n\n    try {\n      const data = JSON.parse(event.nativeEvent.data);\n      console.log(data);\n      if (data.type === \"VERIFICATION_COMPLETE\") {\n        try {\n          if (data.payload.success) {\n            onComplete({ value: data.payload.code });\n          } else {\n            onError(data);\n          }\n        } catch (e) {\n          // Continue clean-up even if callback throws\n        }\n        this.setState({ show: false });\n      } else if (data.type === \"DISPLAY_IFRAME\") {\n        onDisplay();\n        this.setState({ height: data.payload.height });\n      } else if (data.type === \"RESIZE_IFRAME\") {\n        this.setState({ height: data.payload.height });\n      } else if (data.type === \"RELOAD_IFRAME\") {\n        this.setState({ idx: this.state.idx + 1 });\n      } else if (data.type === \"STATE_CHANGE\") {\n        onStateChange(data.payload);\n      } else if (data.type === \"ERROR_RENDERED\") {\n        onError(data.payload);\n      } else if (data.type === \"TAKE_NATIVE_PHOTO\") {\n        const { idType, step, backFormat } = data.payload;\n        this.setState({\n          idType,\n          step,\n          backFormat,\n          capturing: captureMode.id,\n          showModal: true\n        });\n      } else if (data.type === \"TAKE_NATIVE_BARCODE\") {\n        const { timeout } = data.payload;\n        this.setState({\n          timeout,\n          capturing: captureMode.barcode,\n          showModal: true\n        });\n      }\n    } catch (err) {\n      console.warn(\"Error parsing native message\", event.nativeEvent.data, err);\n    }\n  };\n\n  baseUrl() {\n    const { baseUrl, environment } = this.props;\n    if (baseUrl != null) {\n      return baseUrl;\n    }\n    switch (environment) {\n      case \"sandbox\":\n        return \"https://verify.sandbox.berbix.com\";\n      case \"staging\":\n        return \"https://verify.staging.berbix.com\";\n      default:\n        return \"https://verify.berbix.com\";\n    }\n  }\n\n  frameUrl() {\n    const {\n      overrideUrl,\n      version,\n      clientId,\n      role,\n      templateKey,\n      email,\n      phone,\n      continuation,\n      clientToken\n    } = this.props;\n    if (overrideUrl != null) {\n      return overrideUrl;\n    }\n    const token = clientToken || continuation;\n    const template = templateKey || role;\n    return (\n      this.baseUrl() +\n      \"/\" +\n      version +\n      \"/verify\" +\n      (\"?client_id=\" + clientId) +\n      (template ? \"&template=\" + template : \"\") +\n      \"&mode=rn\" +\n      (email ? \"&email=\" + encodeURIComponent(email) : \"\") +\n      (phone ? \"&phone=\" + encodeURIComponent(phone) : \"\") +\n      (token ? \"&client_token=\" + token : \"\") +\n      (\"&sdk=BerbixReactNative-\" + SDK_VERSION)\n    );\n  }\n\n  render() {\n    const { style, ...props } = this.props;\n\n    return (\n      <>\n        <View {...props} style={{ ...styles.frameContainer, ...(style || {}) }}>\n          <WebView\n            key={this.state.idx}\n            ref={this.webviewRef}\n            style={{ height: this.state.height }}\n            source={{ uri: this.frameUrl() }}\n            useWebKit\n            javaScriptEnabled\n            domStorageEnabled\n            saveFormDataDisabled\n            allowFileAccess\n            onMessage={this.handleMessage}\n          />\n        </View>\n        <Modal\n          animationType=\"slide\"\n          transparent={true}\n          visible={this.state.showModal}\n          onDismiss={() => {\n            this.setState({ capturing: null, showModal: false });\n          }}\n          onRequestClose={() => {\n            this.setState({ capturing: null, showModal: false });\n          }}\n        >\n          {this.state.capturing === captureMode.id && (\n            <IDCamera\n              idType={this.state.idType}\n              step={this.state.step}\n              backFormat={this.state.backFormat}\n              onPhotoCapture={this.capturePhoto}\n              onError={this.cameraError}\n            />\n          )}\n          {this.state.capturing === captureMode.barcode && (\n            <BarcodeCamera\n              timeout={this.state.timeout}\n              onCapture={this.barcodeCapture}\n              onFallback={this.barcodeFallback}\n              onExit={this.barcodeExit}\n            />\n          )}\n        </Modal>\n      </>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  frameContainer: {\n    flex: 1\n  }\n});\n\nBerbixVerify.propTypes = {\n  clientId: PropTypes.string.isRequired,\n\n  // Configurations\n  clientToken: PropTypes.string,\n  templateKey: PropTypes.string,\n  email: PropTypes.string,\n  phone: PropTypes.string,\n\n  // Event handlers\n  onComplete: PropTypes.func.isRequired,\n  onError: PropTypes.func,\n  onDisplay: PropTypes.func,\n  onStateChange: PropTypes.func,\n\n  // Internal use\n  baseUrl: PropTypes.string,\n  overrideUrl: PropTypes.string,\n  environment: PropTypes.oneOf([\"sandbox\", \"staging\", \"production\"]),\n  version: PropTypes.string,\n\n  // Deprecated\n  continuation: PropTypes.string,\n  role: PropTypes.string\n};\n\nBerbixVerify.defaultProps = {\n  onError: function() {},\n  onDisplay: function() {},\n  onStateChange: function() {},\n  version: \"v0\",\n  style: {}\n};\n","import React from \"react\";\nimport BerbixVerify from \"./BerbixVerify\";\n\nexport default BerbixVerify;\n"],"sourceRoot":""}